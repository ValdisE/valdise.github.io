<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FLOWING BUNDARY</title>
    <link rel="stylesheet" href="./style/index.css" />
  </head>
  <body>
    <!-- <audio class="bgm" src="./audio/新冠疫情下宜家广播_耳聆网_[声音ID：34856].wav" autoplay loop></audio> -->
    <!-- <audio class="bgm" src="./audio/Hans Zimmer,Benjamin Wallfisch - Tears In The Rain.mp3" autoplay loop></audio> -->
    <audio id="bgs" src="./audio/选择.wav"></audio>

    <!-- loading -->
    <div id="loading">
      <canvas id="loading-bg-canvas"></canvas>
      <canvas id="loading-control"></canvas>
    </div>

    <div id="prev-button"></div>
    <div id="next-button"></div>

    <div id="chapter-buttons">
      <div></div>
      <div></div>
      <div></div>
      <div></div>
    </div>

    <!-- control panel -->
    <div id="control-panel">
      <div id="audio-control">
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
      </div>
      <div id="language">EN/CH</div>
    </div>

    <!-- title -->
    <div id="title">
      <video src="./video/bg.mp4" autoplay loop></video>
      <canvas id="canvas-bg"></canvas>
      <canvas id="title-canvas"></canvas>
      <p>2020年新冠疫情数据可视化</p>
      <p>点击体验更多</p>
      <div id="info-panel">
        <span>项目介绍</span>
        <span>数据说明</span>
        <span>团队成员</span>
      </div>
      <div id="info">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>

    <!-- cases -->
    <div id="cases">
      <canvas id="cases-canvas" width="2736" height="1540" style="width: 1368px; height: 770px;"></canvas>
      <div id="cases-timeline"></div>
      <div id="timeline-label"></div>
      <div class="num-label">
        <p>全国确诊人数</p>
        <p>0</p>
      </div>
    </div>

    <!-- sos -->
    <div id="sos">
      <div class="num-label">
        <p>微博新冠肺炎求助超话部分信息</p>
        <p>45</p>
      </div>
    </div>

    <!-- rain -->
    <div id="rain">
      <canvas id="rain-canvas"></canvas>
      <div class="num-label">
        <p>全国殉职人员累计</p>
        <p>500</p>
      </div>
    </div>

    <!-- bloom -->
    <div id="bloom">
      <div class="num-label">
        <p>全国累计治愈病例</p>
        <p>500</p>
      </div>
    </div>

    <div id="cursor">
      <!-- <div id="cursor-center"></div> -->
    </div>

    <!-- scripts -->
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.2/TweenMax.min.js"></script>
    <script src="http://tgideas.qq.com/2017/three/lib/tween.min.js"></script>
    <script src="https://cdn.bootcdn.net/ajax/libs/d3/5.16.0/d3.min.js"></script>
    <script src="../../javascripts/three115.min.js"></script>
    <script src="../../javascripts/CSS2DRenderer.js"></script>
    <script src="../../javascripts/EffectComposer.js"></script>
    <script src="../../javascripts/UnrealBloomPass.js"></script>
    <script src="../../javascripts/OrbitControls.js"></script>
    <script src="../../javascripts/myWebGLUtils.js"></script>
    <script type="glsl" id="vertex-shader-source">
      attribute vec2 a_position;

      void main() {
        gl_Position = vec4(a_position, 0.0, 1.0);
      }
    </script>
    <script type="x-shader/x-fragment" id="fragment-shader-source">
      #ifdef GL_ES
      precision mediump float;
      #endif

      uniform vec2 u_resolution;
      uniform float u_time;

      float random(vec2 st){
        return fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);
      }

      void main(){
        vec2 st=gl_FragCoord.xy/u_resolution.xy;
        float time=ceil(u_time*20.);
        float rnd_r=random(st+sin(time));
        float rnd_g=random(st+cos(time));
        float rnd_b=random(st+sin(time));
        gl_FragColor=vec4(vec3(rnd_r,rnd_g,rnd_b)-.7,1.);
      }
    </script>
    <script src="./script/index.js"></script>
    <script src="./script/loading.js"></script>
    <script src="./script/cases.js"></script>
    <script src="./script/rain.js"></script>
  </body>
</html>
